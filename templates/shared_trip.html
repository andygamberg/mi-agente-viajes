<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ nombre_viaje }} - Viaje Compartido</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <style>
        html {
            font-size: 100%;
            -webkit-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }

        :root {
            --bg: #F5F5F7;
            --bg-card: #FFFFFF;
            --text: #1D1D1F;
            --text-secondary: #86868B;
            --text-muted: #AEAEB2;
            --accent: #0071E3;
            --accent-hover: #0077ED;
            --border: #D2D2D7;
            --border-light: #E8E8ED;
            --radius: 12px;
            --radius-lg: 16px;
            --shadow: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-hover: 0 4px 12px rgba(0,0,0,0.1);
            --transition: all 0.2s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
            padding-top: 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: -0.3px;
            color: var(--text);
            text-decoration: none;
            display: inline-block;
            margin-bottom: 8px;
        }

        .title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text);
            margin: 16px 0 8px 0;
        }

        .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        .card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
        }

        .card-header {
            padding: 20px 20px 12px 20px;
        }

        .type-icons {
            display: flex;
            gap: 6px;
            align-items: center;
            flex-shrink: 0;
            margin-bottom: 8px;
        }

        .type-icon {
            width: 24px;
            height: 24px;
            color: #1f2937;
            flex-shrink: 0;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 4px;
        }

        .card-body {
            padding: 0 20px 20px 20px;
        }

        .segment {
            padding: 16px 0;
            border-top: 1px solid var(--border-light);
        }

        .segment:first-child {
            border-top: none;
            padding-top: 0;
        }

        .segment-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--text);
        }

        .detail-row {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 12px;
            padding: 8px 0;
            font-size: 1.25rem;
        }

        .detail-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .detail-value {
            color: var(--text);
            font-weight: 400;
        }

        @media (max-width: 600px) {
            .detail-row {
                grid-template-columns: 1fr;
                gap: 4px;
            }

            .detail-label {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">✈️ Mis Viajes</div>
            <h1 class="title">{{ nombre_viaje }}</h1>
            <p class="subtitle">Compartido por {{ owner_nombre }}</p>
        </div>

        {% for viaje in viajes %}
        <div class="card">
            <div class="card-header">
                <div class="type-icons">
                    {% if viaje.tipo == 'vuelo' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" /></svg>
                    {% elif viaje.tipo == 'hotel' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z" /></svg>
                    {% elif viaje.tipo in ['crucero', 'barco'] %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.712 4.33a9.027 9.027 0 0 1 1.652 1.306c.51.51.944 1.064 1.306 1.652M16.712 4.33l-3.448 4.138m3.448-4.138a9.014 9.014 0 0 0-9.424 0M19.67 7.288l-4.138 3.448m4.138-3.448a9.014 9.014 0 0 1 0 9.424m-4.138-5.976a3.736 3.736 0 0 0-.88-1.388 3.737 3.737 0 0 0-1.388-.88m2.268 2.268a3.765 3.765 0 0 1 0 2.528m-2.268-4.796a3.765 3.765 0 0 0-2.528 0m4.796 4.796c-.181.506-.475.982-.88 1.388a3.736 3.736 0 0 1-1.388.88m2.268-2.268 4.138 3.448m0 0a9.027 9.027 0 0 1-1.306 1.652c-.51.51-1.064.944-1.652 1.306m0 0-3.448-4.138m3.448 4.138a9.014 9.014 0 0 1-9.424 0m5.976-4.138a3.765 3.765 0 0 1-2.528 0m0 0a3.736 3.736 0 0 1-1.388-.88 3.737 3.737 0 0 1-.88-1.388m2.268 2.268L7.288 19.67m0 0a9.024 9.024 0 0 1-1.652-1.306 9.027 9.027 0 0 1-1.306-1.652m0 0 4.138-3.448M4.33 16.712a9.014 9.014 0 0 1 0-9.424m4.138 5.976a3.765 3.765 0 0 1 0-2.528m0 0c.181-.506.475-.982.88-1.388a3.736 3.736 0 0 1 1.388-.88m-2.268 2.268L4.33 7.288m6.406 1.18L7.288 4.33m0 0a9.024 9.024 0 0 0-1.652 1.306A9.025 9.025 0 0 0 4.33 7.288" /></svg>
                    {% elif viaje.tipo == 'auto' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" /></svg>
                    {% elif viaje.tipo == 'espectaculo' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z" /></svg>
                    {% elif viaje.tipo == 'restaurante' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 5.25m8.5-5.25 1 5.25m-1-5.25H9m1.5-12H12m0 0h1.5m-1.5 0V3m0 0V1.5" /></svg>
                    {% elif viaje.tipo == 'actividad' %}
                        <svg class="type-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" /></svg>
                    {% endif %}
                </div>
                <h2 class="card-title">{{ get_titulo_card(viaje) }}</h2>
            </div>

            <div class="card-body">
                <div class="segment">
                    {% if viaje.tipo == 'vuelo' %}
                        {% if viaje.numero_vuelo %}
                        <div class="detail-row">
                            <div class="detail-label">Vuelo</div>
                            <div class="detail-value">{{ viaje.numero_vuelo }}</div>
                        </div>
                        {% endif %}
                        {% if viaje.fecha_salida %}
                        <div class="detail-row">
                            <div class="detail-label">Salida</div>
                            <div class="detail-value">{{ viaje.fecha_salida.strftime('%d/%m/%Y') }}{% if get_dato(viaje, 'hora_salida') %} - {{ get_dato(viaje, 'hora_salida') }}{% endif %}</div>
                        </div>
                        {% endif %}
                        {% if viaje.fecha_llegada %}
                        <div class="detail-row">
                            <div class="detail-label">Llegada</div>
                            <div class="detail-value">{{ viaje.fecha_llegada.strftime('%d/%m/%Y') }}{% if get_dato(viaje, 'hora_llegada') %} - {{ get_dato(viaje, 'hora_llegada') }}{% endif %}</div>
                        </div>
                        {% endif %}
                    {% elif viaje.tipo == 'hotel' %}
                        {% if get_dato(viaje, 'nombre_propiedad') %}
                        <div class="detail-row">
                            <div class="detail-label">Hotel</div>
                            <div class="detail-value">{{ get_dato(viaje, 'nombre_propiedad') }}</div>
                        </div>
                        {% endif %}
                        {% if get_dato(viaje, 'fecha_checkin') %}
                        <div class="detail-row">
                            <div class="detail-label">Check-in</div>
                            <div class="detail-value">{{ viaje.fecha_salida.strftime('%d/%m/%Y') }}</div>
                        </div>
                        {% endif %}
                        {% if get_dato(viaje, 'fecha_checkout') %}
                        <div class="detail-row">
                            <div class="detail-label">Check-out</div>
                            <div class="detail-value">{{ viaje.fecha_llegada.strftime('%d/%m/%Y') if viaje.fecha_llegada else '-' }}</div>
                        </div>
                        {% endif %}
                    {% else %}
                        <div class="detail-row">
                            <div class="detail-label">Fecha</div>
                            <div class="detail-value">{{ viaje.fecha_salida.strftime('%d/%m/%Y') }}</div>
                        </div>
                    {% endif %}

                    {% if viaje.codigo_reserva %}
                    <div class="detail-row">
                        <div class="detail-label">Código</div>
                        <div class="detail-value">{{ viaje.codigo_reserva }}</div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</body>
</html>
